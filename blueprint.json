{
    "$schema": "https://playground.wordpress.net/blueprint-schema.json",
    "meta": {
        "title": "Whodunit Academy",
        "description": "An FSE theme",
        "author": "Whodunit",
        "categories": ["FSE", "Site"]
    },
    "landingPage": "/wp-admin",
    "preferredVersions": {
        "php": "8.3",
        "wp": "latest"
    },
    "features": {
        "networking": true
    },
    "steps": [
        {
            "step": "resetData"
        },
        {
            "step": "writeFile",
            "path": "/wordpress/wp-content/mu-plugins/rewrite.php",
            "data": "<?php /* Use pretty permalinks */ add_action( 'after_setup_theme', function() { global $wp_rewrite; $wp_rewrite->set_permalink_structure('/%postname%/'); $wp_rewrite->flush_rules(); } );"
        },
        {
            "step": "setSiteOptions",
            "options": {
                "blogname": "FSE Academy"
            }
        },
        {
            "step": "installPlugin",
			"pluginZipFile": {
				"resource": "wordpress.org/plugins",
                "slug": "formidable"
            },
            "options": {
                "activate": true
            }
        },
        {
            "step": "importWordPressFiles",
            "wordPressFilesZip": {
                "resource": "url",
                "url": "raw.githubusercontent.com/EddyBoels/FSE/0289932c53094022d5733cb98568061db9792144/imports/wp-content.zip"
            }
        },
        {
			"step": "runPHP",
			"code": "<?php require_once('/wordpress/wp-load.php'); wp_insert_post(array( 'post_title' => 'Accueil', 'post_content' => '<!-- wp:paragraph --><p>How do you update the meta fields?</p><!-- /wp:paragraph --><!-- wp:list --><ol><!-- wp:list-item --><li>Open the <strong>Settings</strong> sidebar by clicking the window icon next to the blue <strong>Update</strong> button.</li><!-- /wp:list-item --><!-- wp:list-item --><li>Click the <strong>Meta Block Sidebar</strong> menu (below the <strong>Summary</strong> menu).</li><!-- /wp:list-item --><!-- wp:list-item --><li>Type the <strong>Team name</strong> and the <strong>date</strong> the person joined the company in the respective fields.</li><!-- /wp:list-item --><!-- wp:list-item --><li>Click the blue <strong>Update</strong> button.</li><!-- /wp:list-item --></ol><!-- /wp:list -->','post_status' => 'publish' ));"
		},
        {
            "step": "login",
            "username": "admin",
            "password": "password"
        }
    ]
}
